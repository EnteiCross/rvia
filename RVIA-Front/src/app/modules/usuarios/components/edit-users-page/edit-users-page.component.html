<section class="flex my-3">
   <h1 class="inline text-5xl my-0 ">Modificar Usuario</h1>
</section>

<div *ngIf="isLoading; else form" class="card flex justify-content-center">
    <p-progressSpinner ariaLabel="loading" />
</div>

<ng-template #form>
    <section class="flex flex-column p-4" >
        <form [formGroup]="userForm" (ngSubmit)="onSubmit()" novalidate>
            <div class="field grid justify-content-center mb-2" >
                <p for="numero_empleado-edit" class="col-fixed my-auto text-right" style="width:200px">NÃºmero de Empleado</p>
                <div class="col-3">
                    <input 
                        pInputText id="numero_empleado-edit"
                        type="text" [disabled]="true" readonly
                        [value]="originalUser.numero_empleado"/>
                </div>
            </div>
            <div class="field grid justify-content-center mb-2" >
                <p for="nom_usuario-edit" class="col-fixed my-auto text-right" style="width:200px">Nombre</p>
                <div class="col-3">
                    <div class="flex flex-column">
                        <input pInputText id="nom_usuario-edit" 
                            formControlName="nom_usuario" type="text"/>
                        <small class="mt-2 text-red" *ngIf="isValidField('nom_usuario')">Nombre invalido</small>
                    </div>
                </div>
            </div>
            <div class="field grid justify-content-center mb-2" >
                <p for="position-edit" class="col-fixed text-right" style="width:200px">Tipo de usuario</p>
                <div class="col-3">
                    <div class="flex flex-column my-auto mx-auto">
                        <p-dropdown
                            id="position-edit"
                            formControlName="idu_puesto" 
                            [options]="typesUsers"  
                            optionLabel="nom_puesto" 
                            optionValue="idu_usuario"
                            placeholder="Select a type" />
                    </div>
                </div>
            </div>
        </form>
        <div class="flex justify-content-center mt-5 ">
            <p-button 
                type="button"
                (click)="onCancel()"
                label="Cancelar" 
                [outlined]="true"
                [disabled]="isUpdate"
                class="mr-8"/>
            <p-button 
                (click)="onSubmit()"
                type='submit'
                [disabled]="userForm.invalid || !hasFormChanges || isUpdate"
                [label]="isUpdate ? 'Actualizando...' : 'Actualizar'" 
                class="ml-8"/>
        </div>
    </section>
</ng-template>
<p-toast /> 